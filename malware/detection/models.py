from datetime import datetime
from django.db import models
from time import strftime

# Create your models here.

class Fichier(models.Model):
    name = models.CharField(max_length=30)
    verdict = models.CharField(max_length=30)
    created = models.DateTimeField()
    jour = models.CharField(max_length=30)


    def save(self):
        days = ['Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi','Dimanche']
        day = days[datetime.today().weekday()]
        if self.id is None:
            self.created = datetime.now()
            self.jour = day

        return super(Fichier, self).save()

    def __str__(self):
        name = self.name
        verdict = self.verdict
        created = str(self.created)
        jour = self.jour
        return "Nom :"+name+", Verdict: "+verdict+", Enregistr√© le: "+jour+" ,"+created+"\n"