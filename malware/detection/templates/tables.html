{% extends 'blank.html' %}
{% block head %}
{% load static %}
  <link href="{% static 'vendor/datatables/dataTables.bootstrap4.css'%}" rel="stylesheet">
  <link href="{% static 'css/styles.css'%}" rel="stylesheet">


  <!-- Custom styles for this template-->
  <link href="{% static 'css/sb-admin.css'%}" rel="stylesheet">

{% endblock %}
{% block content %}
<div style="display: none;">
    <div id="sain">{{sains}}</div>
    <div id="malware">{{malwares}}</div>
    <div id="jours">{{jours}}</div>
    <div id="semaine">{{semaine}}</div>
</div>
<!-- Area Chart Example-->
<div class="card mb-3">
    <!-- <div class="card-header">
      <i class="fas fa-chart-area"></i>
      Area Chart Example</div>
    <div class="card-body">
      <canvas id="myAreaChart" width="100%" height="30"></canvas> -->
      <!-- <canvas id="pie-chart" width="800" height="450"></canvas>
    </div>
    <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
  </div> -->
  <div class="row tableau">
      <div class="col-lg-8">
          <div class="card mb-3">
              <div class="card-header">
                <i class="fas fa-chart-area"></i>
                Evolution de le presence de Malwares dans la semaine</div>
              <div class="card-body">
                <canvas id="myAreaChart" width="100%" height="47"></canvas>
              </div>
              <div class="card-footer small text-muted">Courbe Evolutive des malwares de la semaine</div>
            </div>
        </div>
        <div class="col-lg-4">
        <div class="card mb-3">
          <div class="card-header">
            <i class="fas fa-chart-pie"></i>
            Visualisation du la repartition des Malware</div>
          <div class="card-body">
            <canvas id="myPieChart" width="100%" height="100"></canvas>
          </div>
          <div class="card-footer small text-muted">Diagramme Circulaire de fichiers analysés</div>
        </div>
      </div>
  </div>
<div class="tableau">
    <div class="card mb-3">
        <div class="card-header">
          <i class="fas fa-table"></i>
          Historique de tous fichiers analysés par le systeme</div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
              <thead>
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Date d'analyse</th>
                    <th>Resultat</th>
                </tr>
              </thead>
              <tfoot>
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Date d'analyse</th>
                    <th>Resultat</th>
                </tr>
              </tfoot>
              <tbody>
                {% for fichier in fichiers %}
                    <tr>
                        <td>{{fichier.id}}</td>
                        <td>{{fichier.nom}}</td>
                        <td>{{fichier.creation}}</td>
                        <td class="tableBack">{{fichier.verdict}}</td>
                    </tr>
                {% endfor %}
                
              </tbody>
            </table>
          </div>
        </div>
        <div class="card-footer small text-muted">Machine Learning Malware Detection</div>
      </div>
</div>
{% endblock %}
{% block foot %}
  <script src="{% static 'detect.js'%}"></script>
  <script src="{% static 'vendor/chart.js/Chart.min.js' %}"></script>
  <script src="{% static 'js/demo/chart-area-demo.js' %}"></script>
  <script src="{% static 'js/demo/chart-bar-demo.js' %}"></script>
  <script src="{% static 'js/demo/chart-pie-demo.js' %}"></script>

{% endblock %}